<!DOCTYPE html><html lang="zh"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Git使用笔记 | Mr.X's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Git使用笔记</h1><a id="logo" href="/.">Mr.X's blog</a><p class="description">blog | life</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Git使用笔记</h1><div class="post-meta">Jan 10, 2018<span> | </span><span class="category"><a href="/categories/工具类/">工具类</a></span></div><div class="post-content"><blockquote>
<p>建议多查官网  <a href="https://git-scm.com/book" target="_blank" rel="external">https://git-scm.com/book</a>  <a href="https://git-scm.com/book/zh/v2" target="_blank" rel="external">https://git-scm.com/book/zh/v2</a></p>
</blockquote>
<h2 id="常用进阶命令"><a href="#常用进阶命令" class="headerlink" title="常用进阶命令"></a>常用进阶命令</h2><h5 id="1-修改仓库-分支信息"><a href="#1-修改仓库-分支信息" class="headerlink" title="1. 修改仓库/分支信息"></a>1. 修改仓库/分支信息</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git remote set-url origin https://xxx.git 	#修改整个仓库的远程位置</div><div class="line">git branch --set-upstream-to=origin/master	#修改当前分支关联的远程分支</div></pre></td></tr></table></figure>
<h5 id="2-修改提交信息-commit-message"><a href="#2-修改提交信息-commit-message" class="headerlink" title="2. 修改提交信息(commit message)"></a>2. 修改提交信息(commit message)</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git commit --amend 		#修改上一次提交的commit message</div><div class="line">git rebase -i HEAD~n 	#修改上n次提交的commit message（也可以用来删除某次提交）</div></pre></td></tr></table></figure>
<h5 id="3-将修改追加到上次到提交"><a href="#3-将修改追加到上次到提交" class="headerlink" title="3. 将修改追加到上次到提交"></a>3. 将修改追加到上次到提交</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git add . </div><div class="line">git commit --ammend		#多用途</div></pre></td></tr></table></figure>
<h5 id="4-撤销add"><a href="#4-撤销add" class="headerlink" title="4. 撤销add"></a>4. 撤销add</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git reset HEAD 					#全部撤销</div><div class="line">git reset HEAD your_file_path 	#撤销单个文件</div></pre></td></tr></table></figure>
<h5 id="5-查看git信息"><a href="#5-查看git信息" class="headerlink" title="5. 查看git信息"></a>5. 查看git信息</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git config --list	#查看git整体配置信息列表</div><div class="line">git remote -v		#查看远程仓库地址</div><div class="line">git branch -v		#查看本地分支&amp;基本信息</div><div class="line">git branch -vv		#比上条多了关联的远程分支（pull/fetch的分支）</div><div class="line">git branch -r		#查看所有远程分支</div><div class="line">git branch -a 		#查看所有分支</div></pre></td></tr></table></figure>
<h5 id="6-stash"><a href="#6-stash" class="headerlink" title="6. stash"></a>6. stash</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git stash</div><div class="line">git stash save "message"	#将stash命名为message</div><div class="line">git stash save -a "message"	#将git忽略的文件也stash，不常用</div><div class="line">git stash list				#stash列表</div><div class="line">git stash pop				#将stash第0条应用并删除</div><div class="line">git stash apply stash@&#123;2&#125;	#将index=2的stash应用</div></pre></td></tr></table></figure>
<h5 id="7-patch"><a href="#7-patch" class="headerlink" title="7. patch"></a>7. patch</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git format-patch HEAD^        #HEAD的patch</div><div class="line">git format-patch HEAD^^       #HEAD和前一个的patch</div><div class="line">git format-patch HEAD~$n -o ~/patchdir  	#将前n次提交打patch，保存到～/patchdir目录下</div><div class="line">git format-patch HEAD~$n --numbered-files 	#将前n次提交打patch，文件名保存为数字</div><div class="line">git apply --stat xxx.patch    #检查patch</div><div class="line">git apply --check xxx.patch   #查看是否能应用成功</div><div class="line">git am -s &lt; xxx.patch         #应用patch</div></pre></td></tr></table></figure>
<h5 id="8-创建新分支"><a href="#8-创建新分支" class="headerlink" title="8. 创建新分支"></a>8. 创建新分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout -b feature/dev_liuxiao</div><div class="line">git checkout -b feature/dev_liuxiao --track origin/master #基于远程跟踪分支master创建本地分支</div></pre></td></tr></table></figure>
<h5 id="9-pull-fetch-push"><a href="#9-pull-fetch-push" class="headerlink" title="9. pull/fetch/push"></a>9. pull/fetch/push</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>1. pull</div><div class="line">git pull origin master:dev 			#拉取远程master分支，和本地dev分支合并</div><div class="line">git pull --rabase origin master:dev	#拉取远程master分支，和本地dev分支使用rebase的方式合并</div><div class="line"><span class="meta">#</span>	如果本地和远程分支之间存在追踪关系（tracking），可以省略分支名</div><div class="line">git pull origin</div><div class="line">git branch --set-upstream dev origin/master  #将本地dev分支建立远程追踪分支为origin/master</div><div class="line"></div><div class="line"><span class="meta">#</span>2. fetch </div><div class="line"><span class="meta">#</span>	pull相当于fetch+merge</div><div class="line">git fetch origin 			#拉取远程更新</div><div class="line">git merge origin/master		#将远程更新合并到本地当前分支</div><div class="line"></div><div class="line"><span class="meta">#</span>3. push</div><div class="line"><span class="meta">#</span>	-u</div><div class="line">git push -u origin dev	#将本地dev分支push到远端</div><div class="line"><span class="meta">#</span>	-u相当于没有参数+set upstream</div><div class="line">git branch --set-upstream dev origin/master</div><div class="line">git push origin dev</div><div class="line"><span class="meta">#</span>	-f</div><div class="line">git push -f origin dev	#将本地dev分支强行push到远端，冲突强行覆盖（保护的分支需要权限）</div></pre></td></tr></table></figure>
<h5 id="12-删除"><a href="#12-删除" class="headerlink" title="12. 删除"></a>12. 删除</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git clean -f    #删除untracked files</div><div class="line">git clean -f -n #查看会删除的files</div><div class="line">git clean -f -d #删除untracked文件夹</div></pre></td></tr></table></figure>
<h5 id="14-log"><a href="#14-log" class="headerlink" title="14. log"></a>14. log</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git reflog  #历史记录</div><div class="line"><span class="meta">			#</span>可以拿到已经回滚reset过的提交的id，通过git reset id，可以把回滚过的提交找回</div></pre></td></tr></table></figure>
<h2 id="可思考-研究的常见问题"><a href="#可思考-研究的常见问题" class="headerlink" title="可思考/研究的常见问题"></a>可思考/研究的常见问题</h2><h5 id="1-如何删除一个远程分支？"><a href="#1-如何删除一个远程分支？" class="headerlink" title="1. 如何删除一个远程分支？"></a>1. 如何删除一个远程分支？</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>方式1. git UI操作，通常在setting/branches中</div><div class="line"><span class="meta">#</span>方式2. 将一个空目录提交到制定远程</div><div class="line">git push origin:dev</div><div class="line"><span class="meta">#</span>方式3. delete参数</div><div class="line">git push origin -delete dev</div></pre></td></tr></table></figure>
<h5 id="2-如何将修改追加到已经push了的n次提交之前？"><a href="#2-如何将修改追加到已经push了的n次提交之前？" class="headerlink" title="2. 如何将修改追加到已经push了的n次提交之前？"></a>2. 如何将修改追加到已经push了的n次提交之前？</h5><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h4 id="1-安装git环境"><a href="#1-安装git环境" class="headerlink" title="1. 安装git环境"></a>1. 安装git环境</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install git-core 	#windows在官网下载环境</div></pre></td></tr></table></figure>
<h4 id="2-创建代码仓库"><a href="#2-创建代码仓库" class="headerlink" title="2. 创建代码仓库"></a>2. 创建代码仓库</h4><ul>
<li>配置身份</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name <span class="string">"liushaox"</span></div><div class="line">git config --global user.email <span class="string">"liushaox@163.com"</span></div></pre></td></tr></table></figure>
<ul>
<li>查看身份</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name</div><div class="line">git config --global user.email</div></pre></td></tr></table></figure>
<ul>
<li>初始化为git文件夹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
<h4 id="3-提交本地代码"><a href="#3-提交本地代码" class="headerlink" title="3. 提交本地代码"></a>3. 提交本地代码</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git add AndroidMainfest.xml 	#添加单个文件</div><div class="line">git add src						#添加单个文件夹</div><div class="line">git add . 						#添加所有文件</div><div class="line">git commit -m "first commit"	#添加提交描述信息</div></pre></td></tr></table></figure>
<h4 id="4-状态相关"><a href="#4-状态相关" class="headerlink" title="4. 状态相关"></a>4. 状态相关</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git status	#查看git状态，包括commit、修改、冲突等</div><div class="line">git diff	#查看更改内容</div><div class="line">git diff app/src/main/java/activity/MainActivity.java 	#查看单个文件更改内容</div></pre></td></tr></table></figure>
<h4 id="5-常见操作流程"><a href="#5-常见操作流程" class="headerlink" title="5. 常见操作流程"></a>5. 常见操作流程</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> clone</div><div class="line">git clone https://xxx.git</div><div class="line"><span class="meta">#</span> 第一次上传</div><div class="line">git init</div><div class="line">git add . </div><div class="line">git commit -m "commit message"</div><div class="line">git remote add origin https://xxx.git</div><div class="line">git push -u origin master</div><div class="line"><span class="meta">#</span> 以后上传</div><div class="line">git add . </div><div class="line">git commit -m "commit message"</div><div class="line">git push -u origin master</div></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/Git/">Git</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/工具类/">工具类</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Git/" style="font-size: 15px;">Git</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/01/10/Git使用笔记/">Git使用笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Mr.X's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>